<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />

    <link href="style.css" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css?family=Inconsolata"
      rel="stylesheet"
    />
    <script src="jquery-3.3.1.min.js"></script>

    <style>
      .row {
        display: flex;
        align-items: start;
      }

      .container {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        grid-template-rows: repeat(3, 1fr);
        grid-row-gap: 1px;
        grid-column-gap: 0.1em;
        /* border-style: solid; */
        width: 100vw;
        height: calc(100vh - 25vh);
        margin-left: 20px;

        width: 91vw;
      }

      .result_bar {
      }

      .button {
        /* max-width: 100px; */
        width: 100%;
        /* height: 100%; */
        margin: 1px;
      }
    </style>
  </head>
  <body>
    <div class="row" class="wrapper">
      <div class="input">
        <textarea
          class="search"
          autocomplete="on"
          id="input"
          type="text"
          style="
            width: 80vw;
            font-size: 35px;
            height: 8vh;
            height: auto;
            rows: 4;
            margin-left: 20px;
            margin-bottom: 0.2em;
            background-color: rgb(255, 255, 255);
            border-width: 1px;
          "
        ></textarea>
        <div
          class="search-results"
          id="input"
          style="
            width: 80vw;
            font-size: 3em;
            height: 70px;
            margin-left: 20px;
            background-color: #eeee;
            border-width: 1px;
          "
        ></div>
      </div>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <button onclick="speak()" style="height: 8vh">
        <img src="images/speak.png" style="height: 7vh" />
      </button>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <button onclick="clearInput()" style="height: 8vh">
        <img src="images/clear.png" style="height: 7vh" />
      </button>
    </div>

    <br />

    <div class="container">
      <!--row 1-->

      <img class="button" src="images/white space.png" alt="Image Button 4" />
      <img
        class="button"
        src="images/ka_hover.png"
        alt="Image Button 1"
        onclick="updateResult(this.id)"
        id="わ"
      />
      <img
        class="button"
        src="images/ka.png"
        alt="Image Button 1"
        onclick="updateResult(this.id)"
        id="を"
      />
      <img
        class="button"
        src="images/ka_hover.png"
        alt="Image Button 1"
        onclick="updateResult(this.id)"
        id="ん"
      />
      <img class="button" src="images/white space.png" alt="Image Button 4" />
      <!-- 2nd row -->

      <img class="button" src="images/white space.png" />

      <img class="button" src="images/white space.png" alt="Image Button 4" />
      <img class="button" src="images/white space.png" alt="Image Button 5" />
      <img class="button" src="images/white space.png" alt="Image Button 2" />
      <img class="button" src="images/white space.png" alt="Image Button 3" />
      <!-- 3rd row -->

      <a href="keyboard.html"
        ><img class="button" src="/images/khome.png" alt="Image Button 3"
      /></a>

      <img
        class="button"
        src="images/kspace.png"
        alt="Image Button 3"
        onclick="updateResult(this.id)"
        id=" "
      />
      <img
        class="button"
        src="images/comma.png"
        alt="Image Button 4"
        onclick="updateResult(this.id)"
        id=","
      />
      <img
        class="button"
        src="images/fullstop.png"
        alt="Image Button 1"
        onclick="updateResult(this.id)"
        id="."
      />
      <img
        class="button"
        src="images/question mark.PNG"
        alt="Image Button 1"
        onclick="updateResult(this.id)"
        id="?"
      />
      <!--4th row-->
      <!--7th row-->
    </div>

    <script>
      function updateResult(id) {
        // Get the form field
        var resultField = document.getElementById("input");

        // Set the value of the form field to the id of the clicked button
        resultField.value = resultField.value + id;
        var msg = new SpeechSynthesisUtterance();
        msg.text = id;
        msg.lang = "ja";
      }

      function speak() {
        // Get the form field
        var utterance = document.getElementById("input");

        // Set the value of the form field to the id of the clicked button
        // resultField.value = id;

        var msg = new SpeechSynthesisUtterance();
        msg.text = utterance.value;
        msg.lang = "ja";
        msg.rate = 0.9;

        window.speechSynthesis.speak(msg);
        clearSuggestion();
      }

      function clearSuggestion() {
        const resultsWrapper = document.querySelector(".search-results");
        resultsWrapper.classList.remove("show");
        resultsWrapper.innerHTML = null;
      }

      function clearInput() {
        const inputBox = document.getElementById("input");
        let inputValue = inputBox.value;
        let substr = inputValue.slice(0, inputValue.length - 1);
        inputBox.value = substr;
        inputBox.focus();
      }

      function goBack() {
        window.history.back();
      }
    </script>

    <script src="script.js"></script>
    <script src="keyboardscript.js"></script>
  </body>
</html>
